#!MANAGED-CONFIG https://example.com/surge.conf interval=60 strict=true
# =========================================================
# Surge / Surfboard 模板配置文件（带中文注释）
# 与 Clash 同步 DNS 与测速逻辑
# =========================================================

[General]

loglevel = warning
# 日志输出等级：
#   • silent：不输出日志
#   • warning：仅输出警告与错误（推荐）
#   • notify：输出通知与警告
#   • info：输出详细连接信息（调试用）

allow-wifi-access = true
# 允许其他设备通过同一局域网（Wi-Fi）访问本机代理。
#   - true：开启热点共享模式（例如手机热点）
#   - false：仅限本机使用代理

ipv6 = false
# 是否启用 IPv6 网络解析：
#   - true：启用 IPv6 解析（若运营商支持）
#   - false：禁用 IPv6，防止部分节点或 DNS 出现连接超时问题

test-timeout = 5
# 测速或连通性测试的超时时间（单位：秒）
#   - 一般设置为 3~10 秒，过短可能误判网络失败，过长会拖慢测速速度

proxy-test-url = http://www.google.com/generate_204
# 代理连通性测试地址（Google 官方 204 测试页）
#   - 用于测试代理节点的连通性
#   - 若返回 204 状态码代表代理通畅
#   - 用于测试节点连通性

internet-test-url = http://www.google.com/generate_204
# 网络连通性测试地址（Huawei 官方 204 测试页）
#   - 用于判断通过代理节点的网络是否正常
#   - 返回 HTTP 204 表示成功，无页面加载内容
#   - 用于测试节点可用性

udp-policy-not-supported-behaviour = DIRECT
# 当代理节点不支持 UDP 转发（例如部分 HTTP 代理）时的回退行为：
#   - DIRECT：直接放行 UDP 请求
#   - REJECT：拒绝 UDP 请求
#   - 建议设为 DIRECT，以保证游戏、语音等 UDP 应用正常使用直连

http-listen = 0.0.0.0:12311
# 本地 HTTP 代理服务监听地址：
#   - 0.0.0.0 表示监听所有网卡（局域网设备可访问）
#   - 127.0.0.1 表示仅限本机访问
#   - 端口号 12311 可根据需求修改

socks5-listen = 127.0.0.1:12312
# 本地 SOCKS5 代理监听地址：
#   - 默认仅本机访问（127.0.0.1）
#   - 端口号 12312，可与 HTTP 端口分开使用
#   - 若需让其他设备访问 SOCKS5，可改为 0.0.0.0（需配合 allow-wifi-access=true）

skip-proxy = 127.0.0.1, localhost, *.local, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, *.lan, WORKGROUP
dns-server = system, 223.5.5.5, 114.114.114.114, 119.29.29.29, 180.76.76.76, 117.50.11.11
doh-server = https://dns.alidns.com/dns-query, https://doh.360.cn/dns-query, https://doh.pub/dns-query, https://dns.google/dns-query, https://cloudflare-dns.com/dns-query, https://dns.quad9.net/dns-query
dns-fallback = tls://1.1.1.1, tls://8.8.8.8, tls://9.9.9.9, https://dns.adguard.com/dns-query, https://doh.dns.sb/dns-query

# === fallback domain（国外常见站点）===
always-real-ip = 
    +.google.com, +.gstatic.com, +.youtube.com, +.ytimg.com,
    +.facebook.com, +.fbcdn.net, +.instagram.com, +.whatsapp.com,
    +.twitter.com, +.x.com, +.t.co, +.telegram.org, +.t.me,
    +.reddit.com, +.tumblr.com, +.pinterest.com, +.quora.com, +.medium.com,
    +.linkedin.com, +.openai.com, +.chatgpt.com, +.anthropic.com, +.claude.ai,
    +.perplexity.ai, +.huggingface.co, +.github.com, +.gitlab.com, +.stackoverflow.com,
    +.npmjs.com, +.pypi.org, +.cloudflare.com, +.vercel.com, +.netlify.app,
    +.outlook.com, +.office.com, +.zoom.us, +.slack.com, +.notion.so, +.dropbox.com,
    +.mega.nz, +.googledrive.com, +.spotify.com, +.soundcloud.com, +.twitch.tv,
    +.netflix.com, +.hulu.com, +.disneyplus.com, +.primevideo.com, +.applemusic.com,
    +.steamcommunity.com, +.steampowered.com, +.epicgames.com, +.riotgames.com,
    +.playstation.com, +.xboxlive.com, +.nintendo.net, +.battle.net, +.discord.com,
    +.signal.org, +.bbc.com, +.cnn.com, +.nytimes.com, +.bloomberg.com, +.reuters.com,
    +.economist.com, +.guardian.co.uk, +.washingtonpost.com, +.wsj.com, +.forbes.com,
    +.vox.com, +.nbcnews.com, +.abcnews.com, +.theatlantic.com, +.time.com
